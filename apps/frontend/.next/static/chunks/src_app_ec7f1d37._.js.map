{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sean/webdev/Side%20Project/frontend/src/app/components/ProductList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Card,\n  CardMedia,\n  CardContent,\n  Typography,\n  Box,\n  Chip,\n  CircularProgress,\n  Alert,\n  Paper,\n  Button,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Snackbar,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\ninterface Product {\n  id: number;\n  name: string;\n  price: number;\n  description?: string;\n  image?: string;\n  stock?: number;\n}\n\ninterface ProductListProps {\n  refreshTrigger: number;\n  onEditProduct?: (product: Product) => void;\n}\n\nconst StyledCard = styled(Card)(({ theme }) => ({\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  transition: \"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out\",\n  \"&:hover\": {\n    transform: \"translateY(-4px)\",\n    boxShadow: theme.shadows[8],\n  },\n}));\n\nconst StyledCardMedia = styled(CardMedia)({\n  height: 200,\n  objectFit: \"cover\",\n});\n\nconst PriceTypography = styled(Typography)(({ theme }) => ({\n  color: theme.palette.primary.main,\n  fontWeight: \"bold\",\n}));\n\nconst ProductList = ({ refreshTrigger, onEditProduct }: ProductListProps) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [productToDelete, setProductToDelete] = useState<Product | null>(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await fetch(\"/api/products\");\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        setProducts(data);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"載入商品失敗\");\n        console.error(\"載入商品時發生錯誤:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [refreshTrigger]);\n\n  const handleDeleteClick = (product: Product) => {\n    setProductToDelete(product);\n    setDeleteDialogOpen(true);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!productToDelete) return;\n\n    try {\n      setDeleteLoading(true);\n      const response = await fetch(`/api/products/${productToDelete.id}`, {\n        method: \"DELETE\",\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(\n          errorData.error || `HTTP error! status: ${response.status}`\n        );\n      }\n\n      setSuccessMessage(\"商品刪除成功\");\n      setDeleteDialogOpen(false);\n      setProductToDelete(null);\n\n      // 重新載入商品列表\n      const fetchProducts = async () => {\n        try {\n          const response = await fetch(\"/api/products\");\n          if (response.ok) {\n            const data = await response.json();\n            setProducts(data);\n          }\n        } catch (err) {\n          console.error(\"重新載入商品時發生錯誤:\", err);\n        }\n      };\n      fetchProducts();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"刪除商品失敗\");\n      console.error(\"刪除商品時發生錯誤:\", err);\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  const handleDeleteCancel = () => {\n    setDeleteDialogOpen(false);\n    setProductToDelete(null);\n  };\n\n  const handleEditClick = (product: Product) => {\n    if (onEditProduct) {\n      onEditProduct(product);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"200px\"\n      >\n        <CircularProgress size={60} />\n        <Typography variant=\"h6\" sx={{ ml: 2 }}>\n          載入商品中...\n        </Typography>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ m: 2 }}>\n        <Typography variant=\"h6\">載入失敗</Typography>\n        <Typography>{error}</Typography>\n      </Alert>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <Paper\n        elevation={0}\n        sx={{\n          p: 4,\n          textAlign: \"center\",\n          backgroundColor: \"grey.50\",\n        }}\n      >\n        <Typography variant=\"h6\" color=\"text.secondary\">\n          目前沒有商品\n        </Typography>\n      </Paper>\n    );\n  }\n\n  return (\n    <>\n      <Box sx={{ display: \"flex\", flexWrap: \"wrap\", gap: 3, p: 2 }}>\n        {products.map((product) => (\n          <Box\n            key={product.id}\n            sx={{ flex: \"1 1 300px\", minWidth: \"300px\", maxWidth: \"400px\" }}\n          >\n            <StyledCard elevation={2}>\n              {product.image && (\n                <StyledCardMedia image={product.image} title={product.name} />\n              )}\n              <CardContent\n                sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}\n              >\n                <Typography\n                  variant=\"h6\"\n                  component=\"h3\"\n                  gutterBottom\n                  sx={{\n                    fontWeight: \"bold\",\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    display: \"-webkit-box\",\n                    WebkitLineClamp: 2,\n                    WebkitBoxOrient: \"vertical\",\n                  }}\n                >\n                  {product.name}\n                </Typography>\n\n                {product.description && (\n                  <Typography\n                    variant=\"body2\"\n                    color=\"text.secondary\"\n                    sx={{\n                      mb: 2,\n                      overflow: \"hidden\",\n                      textOverflow: \"ellipsis\",\n                      display: \"-webkit-box\",\n                      WebkitLineClamp: 2,\n                      WebkitBoxOrient: \"vertical\",\n                      flexGrow: 1,\n                    }}\n                  >\n                    {product.description}\n                  </Typography>\n                )}\n\n                <Box\n                  sx={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    mt: \"auto\",\n                  }}\n                >\n                  <PriceTypography variant=\"h5\">\n                    NT$ {product.price.toLocaleString()}\n                  </PriceTypography>\n\n                  {product.stock !== undefined && (\n                    <Chip\n                      label={\n                        product.stock > 0 ? `庫存: ${product.stock}` : \"缺貨\"\n                      }\n                      color={product.stock > 0 ? \"success\" : \"error\"}\n                      size=\"small\"\n                      variant={product.stock > 0 ? \"outlined\" : \"filled\"}\n                    />\n                  )}\n                </Box>\n\n                <Box\n                  sx={{\n                    display: \"flex\",\n                    justifyContent: \"flex-end\",\n                    gap: 1,\n                    mt: 2,\n                  }}\n                >\n                  <IconButton\n                    color=\"primary\"\n                    onClick={() => handleEditClick(product)}\n                    sx={{\n                      backgroundColor: \"primary.light\",\n                      color: \"white\",\n                      \"&:hover\": {\n                        backgroundColor: \"primary.main\",\n                      },\n                    }}\n                  >\n                    <EditIcon />\n                  </IconButton>\n                  <IconButton\n                    color=\"error\"\n                    onClick={() => handleDeleteClick(product)}\n                    sx={{\n                      backgroundColor: \"error.light\",\n                      color: \"white\",\n                      \"&:hover\": {\n                        backgroundColor: \"error.main\",\n                      },\n                    }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </Box>\n              </CardContent>\n            </StyledCard>\n          </Box>\n        ))}\n      </Box>\n\n      {/* 刪除確認對話框 */}\n      <Dialog open={deleteDialogOpen} onClose={handleDeleteCancel}>\n        <DialogTitle>確認刪除商品</DialogTitle>\n        <DialogContent>\n          <Typography>\n            您確定要刪除商品「{productToDelete?.name}」嗎？\n          </Typography>\n          <Typography color=\"error\" sx={{ mt: 1 }}>\n            此操作無法復原！\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDeleteCancel} disabled={deleteLoading}>\n            取消\n          </Button>\n          <Button\n            onClick={handleDeleteConfirm}\n            color=\"error\"\n            variant=\"contained\"\n            disabled={deleteLoading}\n            startIcon={\n              deleteLoading ? <CircularProgress size={20} /> : <DeleteIcon />\n            }\n          >\n            {deleteLoading ? \"刪除中...\" : \"確認刪除\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* 成功訊息 */}\n      <Snackbar\n        open={!!successMessage}\n        autoHideDuration={3000}\n        onClose={() => setSuccessMessage(null)}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <Alert severity=\"success\" onClose={() => setSuccessMessage(null)}>\n          {successMessage}\n        </Alert>\n      </Snackbar>\n    </>\n  );\n};\n\nexport default ProductList;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///Users/sean/webdev/Side%20Project/frontend/src/app/components/AddProductForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  Card,\n  CardContent,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Alert,\n  Snackbar,\n  FormControl,\n  InputLabel,\n  OutlinedInput,\n  InputAdornment,\n  CircularProgress,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\n\ninterface AddProductFormProps {\n  onProductAdded: () => void;\n}\n\ninterface ProductFormData {\n  name: string;\n  price: string;\n  description: string;\n  image: string;\n  stock: string;\n}\n\nconst StyledCard = styled(Card)(({ theme }) => ({\n  margin: theme.spacing(2),\n  boxShadow: theme.shadows[4],\n}));\n\nconst StyledButton = styled(Button)(() => ({\n  minHeight: \"48px\",\n  fontWeight: \"bold\",\n}));\n\nexport default function AddProductForm({\n  onProductAdded,\n}: AddProductFormProps) {\n  const [formData, setFormData] = useState<ProductFormData>({\n    name: \"\",\n    price: \"\",\n    description: \"\",\n    image: \"\",\n    stock: \"\",\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      // 驗證必填欄位\n      if (!formData.name.trim()) {\n        throw new Error(\"商品名稱為必填項目\");\n      }\n      if (!formData.price.trim()) {\n        throw new Error(\"商品價格為必填項目\");\n      }\n\n      const price = parseFloat(formData.price);\n      if (isNaN(price) || price <= 0) {\n        throw new Error(\"請輸入有效的價格\");\n      }\n\n      const stock = formData.stock ? parseInt(formData.stock) : undefined;\n      if (stock !== undefined && (isNaN(stock) || stock < 0)) {\n        throw new Error(\"請輸入有效的庫存數量\");\n      }\n\n      const productData = {\n        name: formData.name.trim(),\n        price: price,\n        description: formData.description.trim() || undefined,\n        image: formData.image.trim() || undefined,\n        stock: stock,\n      };\n\n      const response = await fetch(\"/api/products\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(productData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(\n          errorData.message || `HTTP error! status: ${response.status}`\n        );\n      }\n\n      const newProduct = await response.json();\n      console.log(\"新增商品成功:\", newProduct);\n\n      setSuccess(true);\n      setFormData({\n        name: \"\",\n        price: \"\",\n        description: \"\",\n        image: \"\",\n        stock: \"\",\n      });\n\n      // 通知父組件更新商品列表\n      onProductAdded();\n\n      // 3秒後隱藏成功訊息\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"新增商品失敗\");\n      console.error(\"新增商品時發生錯誤:\", err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleReset = () => {\n    setFormData({\n      name: \"\",\n      price: \"\",\n      description: \"\",\n      image: \"\",\n      stock: \"\",\n    });\n    setError(null);\n    setSuccess(false);\n  };\n\n  return (\n    <>\n      <StyledCard>\n        <CardContent>\n          <Box display=\"flex\" alignItems=\"center\" mb={3}>\n            <Typography variant=\"h4\" component=\"h2\" fontWeight=\"bold\">\n              ➕ 新增商品\n            </Typography>\n          </Box>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\n              <Typography variant=\"h6\">新增失敗</Typography>\n              <Typography>{error}</Typography>\n            </Alert>\n          )}\n\n          <Box component=\"form\" onSubmit={handleSubmit}>\n            <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 3 }}>\n              <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\n                <TextField\n                  fullWidth\n                  label=\"商品名稱\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  required\n                  placeholder=\"請輸入商品名稱\"\n                  variant=\"outlined\"\n                  helperText=\"必填項目\"\n                  sx={{ flex: \"1 1 300px\" }}\n                />\n\n                <FormControl sx={{ flex: \"1 1 300px\" }} variant=\"outlined\">\n                  <InputLabel htmlFor=\"price\">價格</InputLabel>\n                  <OutlinedInput\n                    id=\"price\"\n                    name=\"price\"\n                    type=\"number\"\n                    value={formData.price}\n                    onChange={handleInputChange}\n                    required\n                    inputProps={{ min: \"0\", step: \"0.01\" }}\n                    startAdornment={\n                      <InputAdornment position=\"start\">NT$</InputAdornment>\n                    }\n                    label=\"價格\"\n                    placeholder=\"請輸入商品價格\"\n                  />\n                </FormControl>\n              </Box>\n\n              <TextField\n                fullWidth\n                label=\"商品描述\"\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                multiline\n                rows={3}\n                placeholder=\"請輸入商品描述（選填）\"\n                variant=\"outlined\"\n              />\n\n              <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\n                <TextField\n                  fullWidth\n                  label=\"商品圖片網址\"\n                  name=\"image\"\n                  type=\"url\"\n                  value={formData.image}\n                  onChange={handleInputChange}\n                  placeholder=\"請輸入圖片網址（選填）\"\n                  variant=\"outlined\"\n                  sx={{ flex: \"1 1 300px\" }}\n                />\n\n                <TextField\n                  fullWidth\n                  label=\"庫存數量\"\n                  name=\"stock\"\n                  type=\"number\"\n                  value={formData.stock}\n                  onChange={handleInputChange}\n                  inputProps={{ min: \"0\" }}\n                  placeholder=\"請輸入庫存數量（選填）\"\n                  variant=\"outlined\"\n                  sx={{ flex: \"1 1 300px\" }}\n                />\n              </Box>\n            </Box>\n\n            <Box display=\"flex\" gap={2} mt={4}>\n              <StyledButton\n                type=\"submit\"\n                variant=\"contained\"\n                size=\"large\"\n                disabled={isSubmitting}\n                startIcon={\n                  isSubmitting ? (\n                    <CircularProgress size={20} color=\"inherit\" />\n                  ) : (\n                    <span>➕</span>\n                  )\n                }\n                sx={{ flex: 1 }}\n              >\n                {isSubmitting ? \"新增中...\" : \"新增商品\"}\n              </StyledButton>\n\n              <StyledButton\n                type=\"button\"\n                variant=\"outlined\"\n                size=\"large\"\n                onClick={handleReset}\n                startIcon={<span>🔄</span>}\n              >\n                重設\n              </StyledButton>\n            </Box>\n          </Box>\n        </CardContent>\n      </StyledCard>\n\n      <Snackbar\n        open={success}\n        autoHideDuration={3000}\n        onClose={() => setSuccess(false)}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <Alert severity=\"success\" onClose={() => setSuccess(false)}>\n          <Typography variant=\"h6\">新增成功！</Typography>\n          <Typography>商品已成功新增到列表中</Typography>\n        </Alert>\n      </Snackbar>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1005, "column": 0}, "map": {"version":3,"sources":["file:///Users/sean/webdev/Side%20Project/frontend/src/app/components/EditProductForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Alert,\n  Snackbar,\n  FormControl,\n  InputLabel,\n  OutlinedInput,\n  InputAdornment,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\n\ninterface Product {\n  id: number;\n  name: string;\n  price: number;\n  description?: string;\n  image?: string;\n  stock?: number;\n}\n\ninterface EditProductFormProps {\n  product: Product | null;\n  open: boolean;\n  onClose: () => void;\n  onProductUpdated: () => void;\n}\n\ninterface ProductFormData {\n  name: string;\n  price: string;\n  description: string;\n  image: string;\n  stock: string;\n}\n\nconst StyledButton = styled(Button)(() => ({\n  minHeight: \"48px\",\n  fontWeight: \"bold\",\n}));\n\nexport default function EditProductForm({\n  product,\n  open,\n  onClose,\n  onProductUpdated,\n}: EditProductFormProps) {\n  const [formData, setFormData] = useState<ProductFormData>({\n    name: \"\",\n    price: \"\",\n    description: \"\",\n    image: \"\",\n    stock: \"\",\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  // 當商品資料改變時，更新表單資料\n  useEffect(() => {\n    if (product) {\n      setFormData({\n        name: product.name || \"\",\n        price: product.price?.toString() || \"\",\n        description: product.description || \"\",\n        image: product.image || \"\",\n        stock: product.stock?.toString() || \"\",\n      });\n    }\n  }, [product]);\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!product) return;\n\n    setIsSubmitting(true);\n    setError(null);\n    setSuccess(false);\n\n    try {\n      // 驗證必填欄位\n      if (!formData.name.trim()) {\n        throw new Error(\"商品名稱為必填項目\");\n      }\n      if (!formData.price.trim()) {\n        throw new Error(\"商品價格為必填項目\");\n      }\n\n      const price = parseFloat(formData.price);\n      if (isNaN(price) || price <= 0) {\n        throw new Error(\"請輸入有效的價格\");\n      }\n\n      const stock = formData.stock ? parseInt(formData.stock) : undefined;\n      if (stock !== undefined && (isNaN(stock) || stock < 0)) {\n        throw new Error(\"請輸入有效的庫存數量\");\n      }\n\n      const productData = {\n        name: formData.name.trim(),\n        price: price,\n        description: formData.description.trim() || undefined,\n        image: formData.image.trim() || undefined,\n        stock: stock,\n      };\n\n      const response = await fetch(`/api/products/${product.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(productData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(\n          errorData.error || `HTTP error! status: ${response.status}`\n        );\n      }\n\n      const updatedProduct = await response.json();\n      console.log(\"更新商品成功:\", updatedProduct);\n\n      // 通知父組件更新商品列表\n      onProductUpdated();\n\n      // 顯示成功訊息並立即關閉對話框\n      setSuccess(true);\n      setTimeout(() => {\n        setSuccess(false);\n        onClose();\n      }, 100);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"更新商品失敗\");\n      console.error(\"更新商品時發生錯誤:\", err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (!isSubmitting) {\n      setError(null);\n      setSuccess(false);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>✏️ 編輯商品</DialogTitle>\n      <DialogContent>\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            <Typography variant=\"h6\">更新失敗</Typography>\n            <Typography>{error}</Typography>\n          </Alert>\n        )}\n\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 2 }}>\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 3 }}>\n            <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\n              <TextField\n                fullWidth\n                label=\"商品名稱\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                required\n                placeholder=\"請輸入商品名稱\"\n                variant=\"outlined\"\n                helperText=\"必填項目\"\n                sx={{ flex: \"1 1 300px\" }}\n              />\n\n              <FormControl sx={{ flex: \"1 1 300px\" }} variant=\"outlined\">\n                <InputLabel htmlFor=\"price\">價格</InputLabel>\n                <OutlinedInput\n                  id=\"price\"\n                  name=\"price\"\n                  type=\"number\"\n                  value={formData.price}\n                  onChange={handleInputChange}\n                  required\n                  inputProps={{ min: \"0\", step: \"0.01\" }}\n                  startAdornment={\n                    <InputAdornment position=\"start\">NT$</InputAdornment>\n                  }\n                  label=\"價格\"\n                  placeholder=\"請輸入商品價格\"\n                />\n              </FormControl>\n            </Box>\n\n            <TextField\n              fullWidth\n              label=\"商品描述\"\n              name=\"description\"\n              value={formData.description}\n              onChange={handleInputChange}\n              multiline\n              rows={3}\n              placeholder=\"請輸入商品描述（選填）\"\n              variant=\"outlined\"\n            />\n\n            <Box sx={{ display: \"flex\", gap: 2, flexWrap: \"wrap\" }}>\n              <TextField\n                fullWidth\n                label=\"商品圖片網址\"\n                name=\"image\"\n                type=\"url\"\n                value={formData.image}\n                onChange={handleInputChange}\n                placeholder=\"請輸入圖片網址（選填）\"\n                variant=\"outlined\"\n                sx={{ flex: \"1 1 300px\" }}\n              />\n\n              <TextField\n                fullWidth\n                label=\"庫存數量\"\n                name=\"stock\"\n                type=\"number\"\n                value={formData.stock}\n                onChange={handleInputChange}\n                inputProps={{ min: \"0\" }}\n                placeholder=\"請輸入庫存數量（選填）\"\n                variant=\"outlined\"\n                sx={{ flex: \"1 1 300px\" }}\n              />\n            </Box>\n          </Box>\n        </Box>\n      </DialogContent>\n      <DialogActions sx={{ p: 3 }}>\n        <Button\n          onClick={handleClose}\n          disabled={isSubmitting}\n          size=\"large\"\n          variant=\"outlined\"\n        >\n          取消\n        </Button>\n        <StyledButton\n          onClick={handleSubmit}\n          variant=\"contained\"\n          size=\"large\"\n          disabled={isSubmitting}\n          startIcon={\n            isSubmitting ? (\n              <CircularProgress size={20} color=\"inherit\" />\n            ) : (\n              <span>💾</span>\n            )\n          }\n        >\n          {isSubmitting ? \"更新中...\" : \"更新商品\"}\n        </StyledButton>\n      </DialogActions>\n\n      <Snackbar\n        open={success}\n        autoHideDuration={2000}\n        onClose={() => setSuccess(false)}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <Alert severity=\"success\" onClose={() => setSuccess(false)}>\n          <Typography variant=\"h6\">更新成功！</Typography>\n          <Typography>商品資訊已成功更新</Typography>\n        </Alert>\n      </Snackbar>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1457, "column": 0}, "map": {"version":3,"sources":["file:///Users/sean/webdev/Side%20Project/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  ThemeProvider,\n  createTheme,\n  CssBaseline,\n  AppBar,\n  Toolbar,\n  Typography,\n  Container,\n  Box,\n  Button,\n  Paper,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\n\nimport ProductList from \"./components/ProductList\";\nimport AddProductForm from \"./components/AddProductForm\";\nimport EditProductForm from \"./components/EditProductForm\";\n\n// 建立自定義主題\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#1976d2\",\n      light: \"#42a5f5\",\n      dark: \"#1565c0\",\n    },\n    secondary: {\n      main: \"#dc004e\",\n    },\n    background: {\n      default: \"#f5f5f5\",\n    },\n  },\n  typography: {\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    h4: {\n      fontWeight: 600,\n    },\n    h5: {\n      fontWeight: 600,\n    },\n    h6: {\n      fontWeight: 600,\n    },\n  },\n  components: {\n    MuiCard: {\n      styleOverrides: {\n        root: {\n          borderRadius: 12,\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          borderRadius: 8,\n          textTransform: \"none\",\n          fontWeight: 600,\n        },\n      },\n    },\n  },\n});\n\nconst StyledAppBar = styled(AppBar)(() => ({\n  background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n  boxShadow: \"0 4px 20px rgba(0,0,0,0.1)\",\n}));\n\nconst StyledContainer = styled(Container)(({ theme }) => ({\n  paddingTop: theme.spacing(4),\n  paddingBottom: theme.spacing(4),\n}));\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(3),\n  marginBottom: theme.spacing(3),\n  borderRadius: 16,\n  boxShadow: \"0 4px 20px rgba(0,0,0,0.08)\",\n}));\n\ninterface Product {\n  id: number;\n  name: string;\n  price: number;\n  description?: string;\n  image?: string;\n  stock?: number;\n}\n\nconst Home = () => {\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n\n  const handleProductAdded = () => {\n    setRefreshTrigger((prev) => prev + 1);\n  };\n\n  const handleEditProduct = (product: Product) => {\n    setEditingProduct(product);\n    setEditDialogOpen(true);\n  };\n\n  const handleEditDialogClose = () => {\n    setEditDialogOpen(false);\n    setEditingProduct(null);\n  };\n\n  const handleProductUpdated = () => {\n    setRefreshTrigger((prev) => prev + 1);\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Box\n        sx={{\n          flexGrow: 1,\n          minHeight: \"100vh\",\n          backgroundColor: \"background.default\",\n        }}\n      >\n        {/* 頂部導航欄 */}\n        <StyledAppBar position=\"static\" elevation={0}>\n          <Toolbar>\n            <Typography\n              variant=\"h5\"\n              component=\"div\"\n              sx={{ flexGrow: 1, fontWeight: \"bold\" }}\n            >\n              🛒 電商商品管理系統\n            </Typography>\n            <Typography variant=\"body2\" sx={{ opacity: 0.9 }}>\n              管理您的商品庫存和資訊\n            </Typography>\n          </Toolbar>\n        </StyledAppBar>\n\n        {/* 主要內容區域 */}\n        <StyledContainer maxWidth=\"xl\">\n          <Box sx={{ mb: 4 }}>\n            {/* 新增商品表單 */}\n            <AddProductForm onProductAdded={handleProductAdded} />\n          </Box>\n\n          {/* 商品列表區域 */}\n          <StyledPaper elevation={0}>\n            <Box\n              display=\"flex\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              mb={3}\n              flexWrap=\"wrap\"\n              gap={2}\n            >\n              <Typography\n                variant=\"h4\"\n                component=\"h2\"\n                fontWeight=\"bold\"\n                color=\"text.primary\"\n              >\n                商品列表\n              </Typography>\n              <Button\n                variant=\"contained\"\n                startIcon={<span>🔄</span>}\n                onClick={() => setRefreshTrigger((prev) => prev + 1)}\n                size=\"large\"\n                sx={{\n                  background:\n                    \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n                  \"&:hover\": {\n                    background:\n                      \"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)\",\n                  },\n                }}\n              >\n                重新整理\n              </Button>\n            </Box>\n            <ProductList\n              refreshTrigger={refreshTrigger}\n              onEditProduct={handleEditProduct}\n            />\n          </StyledPaper>\n        </StyledContainer>\n\n        {/* 編輯商品對話框 */}\n        <EditProductForm\n          product={editingProduct}\n          open={editDialogOpen}\n          onClose={handleEditDialogClose}\n          onProductUpdated={handleProductUpdated}\n        />\n      </Box>\n    </ThemeProvider>\n  );\n};\n\nexport default Home;\n"],"names":[],"mappings":"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","debugId":null}}]
}